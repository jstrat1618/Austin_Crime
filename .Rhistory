getwd()
getwd()
library(readr)
hzip <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
head(hzip)
dim(hzip)
colnames(hzip)
crime <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
crime$`GO X Coordinate`
str(crime)
str(crime)
crime
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
head(dat)
library(ggplot2)
dat$Highest_NIBRS_UCR_Offense_Description
unique(dat$Highest_NIBRS_UCR_Offense_Description)
ggplot(dat, aes(Highest_NIBRS_UCR_Offense_Description))+
geom_bar()
dat$Location
dat$Zip_Code_Crime
ggplot(dat, aes(Highest_NIBRS_UCR_Offense_Description))+
geom_bar(aes(col=factor(Zip_Code_Crime)))
class(dat$Zip_Code_Crime)
library(raster)
colnames(dat)
library(readr)
library(ggplot2)
library(raster)
hzip <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
colnames(dat)
dat$X_Coordinate
dat$Y_Coordinate
rst <- raster::extract(dat$X_Coordinate, dat$Y_Coordinate)
rst <- raster::extract(dat$X_Coordinate[1], dat$Y_Coordinate[1])
?stack
range(dat$Y_Coordinate, na.rm = T)
range(dat$X_Coordinate, na.rm = T)
list.files(".", "*.envi", full.names = TRUE)
dat %>%
select(X_Coordinate, Y_Coordinate)
library(dplyr)
dat %>%
select(X_Coordinate, Y_Coordinate)
mydf <- structure(list(longitude = dat$X_Coordinate  , latitude = dat$Y_Coordinate),
.Names = c("longitude", "latitude"),
class = "data.frame", row.names = c(NA, -8L))
mydf
xy <- mydf[,c(1,2)]
xy <- mydf[,c(1,2)]
library(sp)
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
dim(mydf)
dim(xy)
mydf
mydf <- structure(list(longitude = dat$X_Coordinate  , latitude = dat$Y_Coordinate),
.Names = c("longitude", "latitude"),
class = "data.frame")
xy <- mydf[,c(1,2)]
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
xy
xy
mydf
mydf <- structure(list(longitude = dat$X_Coordinate  , latitude = dat$Y_Coordinate),
.Names = c("longitude", "latitude"),
class = "data.frame", row.names=NULL)
mydf
mydf <- structure(list(longitude = dat$X_Coordinate  , latitude = dat$Y_Coordinate),
.Names = c("longitude", "latitude"),
class = "data.frame", row.names=c(NA, -8L)
)
coordinates(mydf) <- cbind(mydf$longitude , mydf$latitude)
mydf <- structure(list(longitude = dat$X_Coordinate  , latitude = dat$Y_Coordinate),
.Names = c("longitude", "latitude"),
class = "data.frame", row.names=c(NA, -8L))
coordinates(mydf)
cbind(dat$X_Coordinate, dat$Y_Coordinate)
coordinates(dat) <- cbind(dat$X_Coordinate, dat$Y_Coordinate)
nrow(dat)
mydf <- structure(list(longitude = dat$X_Coordinate, latitude = dat$Y_Coordinate), .Names = c("longitude", "latitude"),
class = "data.frame", row.names = c(NA, -38573L))
mydf
xy <- mydf[,c(1,2)]
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
dat %>%
filter(complete.cases(.)) -> df
mydf <- structure(list(longitude = df$X_Coordinate, latitude = df$Y_Coordinate), .Names = c("longitude", "latitude"),
class = "data.frame", row.names = c(NA, -38573L))
xy <- mydf[,c(1,2)]
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
library(sp)
dat %>%
filter(complete.cases(.)) -> df
mydf <- structure(list(longitude = df$X_Coordinate, latitude = df$Y_Coordinate), .Names = c("longitude", "latitude"),
class = "data.frame", row.names = c(NA, -38573L))
xy <- mydf[,c(1,2)]
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
library(readr)
library(ggplot2)
library(dplyr)
library(raster)
library(sp)
hzip <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
mydf <- structure(list(longitude = dat$X_Coordinate, latitude = dat$Y_Coordinate), .Names = c("longitude", "latitude"),
class = "data.frame", row.names = c(NA, -38573L))
xy <- mydf[,c(1,2)]
spdf <- SpatialPointsDataFrame(coords = xy, data = mydf,
proj4string = CRS("+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0"))
library(rgdal)
library(ggmap)
library(readr)
library(ggplot2)
library(dplyr)
library(raster)
library(sp)
library(rgdal)
hzip15 <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime15 <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
library(ggmap)
?get_map
spTransform(dat)
dat <- read.csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
spTransform(dat)
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
CRS(dat)
CRS(dat) <- 'NAD'
library(ggmap)
library(readr)
library(ggplot2)
library(dplyr)
library(raster)
library(sp)
library(rgdal)
library(ggmap)
hzip15 <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime15 <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
dat$X_Coordinate
View(hzip15)
library(ggmap)
amap <- get_map(location = 'Austin, Texas')
plot(amap)
ggmap(amap)
ggmap(amap)
library(ggmap)
library(readr)
library(ggplot2)
library(dplyr)
library(ggmap)
hzip15 <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime15 <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
dat$X_Coordinate
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate), data = dat)
range(dat$X_Coordinate)
range(dat$X_Coordinate, na.rm = TRUE)
dat_no_nas <- dat %>%
filter(!(is.na(X_Coordinate) | is.na(Y_Coordinate)))
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate), data = dat_no_nas)
dat_no_nas$X_Coordinate
library(ggmap)
library(readr)
library(ggplot2)
library(dplyr)
library(raster)
library(sp)
library(rgdal)
library(ggmap)
hzip15 <- read_csv('./dash-austin-crime-report-2015/2014_Housing_Market_Analysis_Data_by_Zip_Code.csv')
crime15 <- read_csv('./dash-austin-crime-report-2015/Annual_Crime_Dataset_2015.csv')
dat <- read_csv('./dash-austin-crime-report-2015/Crime_Housing_Joined.csv')
ggmap(amap)
dat$Highest_Offense_Desc
ggmap(amap)+
geom_point(aes(X_coordinate, Y_Coordinates, col = Highest_Offense_Desc), data = dat)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinates, col = Highest_Offense_Desc), data = dat)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate, col = Highest_Offense_Desc), data = dat)
ggmap(amap)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate, col = Highest_Offense_Desc), data = dat)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate), data = dat)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate, col = 'black'), data = dat)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate, color = Council_District), data = dat)
library(ggplot2)
library(ggmap)
ggmap(amap)+
geom_point(aes(X_Coordinate, Y_Coordinate, color = Council_District), data = dat)
dat$Y_Coordinate
range(dat$Y_Coordinate)
range(dat$Y_Coordinate, na.rm = T)
library(rgdal)
?CRS
52/2
24*9 + 25*d
24*9 + 25*5
24+25
25*9
25*4 + 25*5
120/40
3*2.5
cost_day <- function(mpg = 40, g = 2.5, d= 120) d/mpg *g
cost_day()
cost_day()*N
N <- 225
cost_day()*N
cost_day(mpg = 38)*N
cost_day(mpg = 38)*N - cost_day()*N
cost_day(mpg = 36)*N - cost_day()*N
cost_day(mpg = 36)*N - cost_day()*N
(cost_day(mpg = 36)*N - cost_day()*N) *6
d <- data.frame(lon = dat$X_Coordinate, lat = dat$Y_Coordinate)
coordinates(d) <- c("lon", "lat")
d <- filter(d, complete.cases(.))
d <- filter(d, complete.cases())
d %>%
filter(complete.cases(.)) -> d
coordinates(d) <- c("lon", "lat")
CRS("+init=NAD83")
CRS("+init=NAD:83")
CRS("+init=nad:83")
CRS("+init=fips:4203")
CRS("+init=esri:102739")
proj4string(d) <- CRS("+init=esri:102739")
CRS.new <- CRS("+proj=somerc +lat_0=46.9524056 +lon_0=7.43958333 +ellps=bessel +x_0=2600000 +y_0=1200000 +towgs84=674.374,15.056,405.346 +units=m +k_0=1 +no_defs")
CRS.new <- CRS("+init=epsg:4326")
d_trans <- spTransform(d, CRS.new)
d_trans
class(d_trans)
plot(sp)
plot(d_trans)
d_trans@coords
d_trans@coords$lom
str(d_trans@coords)
d_trans@coords[,1]
dat_coords <- data.frame(lon = d_trans@coords[,1], lat = d_trans@coords[,2])
ggmap(amap)+
geom_point(aes(lon, lat), data = dat_coords)
